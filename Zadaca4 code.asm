IN_PORT EQU 0FFF8h 
D_S SEGMENT
IN POLE DW 100 DUP(?) 
D_S ENDS
S_S SEGMENT
STACK DW 40 DUP(?)
S_TOP LABEL WORD 
S_S ENDS
C_S SEGMENT
ASSUME CS: C_S,DS:D_S,SS:S_S
MOV AX, D_S
MOV DS, AX
MOV AX, S_S
MOV SS, AX
MOV SP, OFFSET S_TOP
LEA SI, IN_POLE 
MOV BX,100d 
MOV DX, IN_PORT
PAK: IN AX, DX 
AND AX, 0FFFh 
MOV [SI],AX 
CALL WAIT_1MS 
INC SI
INC SI 
DEC BX 
JNZ PAK 
WAIT_1MS PROC NEAR 
MOV CX, 23F2h 
OVDE:LOOP OVDE 
RET 
WAIT_1MS:ENDP
C_S ENDS 
END 
